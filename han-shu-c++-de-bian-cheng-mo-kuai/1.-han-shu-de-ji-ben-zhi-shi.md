# 1. 函数的基本知识

## 1.1 函数的返回

1. 函数通过将返回值复制到指定的 CPU 寄存器或内存单元中来将其返回
2. 调用程序将查看该内存单元
3. 返回函数和调用函数必须就该内存单元中存储数据的类型达成一致
4. 函数原型将返回值类型告诉程序
5. 函数定义命令被调用函数应该返回什么数据
6. 函数在执行返回语句后结束

## 1.2 函数原型

### 为什么需要原型

原型描述了函数到编译器的接口，它将函数的返回值的类型以及参数的类型和数量告诉了编译器

```cpp
double volumn = cube(side)
```

* 原型告诉编译器， cube\(\) 有一个 doube 的参数，如果程序没有提供这样的参数，编译器能够捕获错误
* cube\(\) 函数在完成计算后，需要把返回值放在指定的位置

### 为什么编译器需要原型

为什么它不在文件中进一步查找，以了解函数是如何定义的

* 效率不高，编译器在搜索文件的剩余部分时必须停止对 mian\(\) 的编译
* 更严重的问题是，函数可能都不在文件中，C++ 允许将一个程序放在多个文件中，单独编译再组合起来

### 原型的功能

原型可以帮编译器完成很多工作

* 编译器正确处理函数的返回值
* 编译器检查使用的参数数目是否正确
* 编译器检查使用的参数类型是否正确，如果不正确，则尝试转换成正确的类型

## 1.3 函数参数和按值传递

C++ 通常**按值传递参数**，这意味着将数值参数传递给函数

例如下面的函数定义

```cpp
side = 5;
double volumn = cube(side);

double cube(double x)
{
    ...
}
```

* 被调用时，该函数将创建一个名为 x 的 double 变量，并将其初始化为 5
* 这样 cube\(\) 执行的操作将不会影响 main\(\) 中的数据，因为 cube\(\) 使用的是 side 的副本

在函数中声明的变量（包括参数）是该函数**私有的局部变量**

* 在函数被调用时，计算机将为这些变量分配内存
* 在函数结束时，计算机将释放这些变量的内存









